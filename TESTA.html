<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="1024" height="768" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>

<script>
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");

rect1=(ctx,x,y,w,h,c="red",r=5,a=0)=>{
    ctx.save()
    ctx.fillStyle=c
    ctx.beginPath()
    ctx.miterLimit=30
    ctx.lineWidth=2
    ctx.moveTo(x, y)
    ctx.lineTo(x+w, y)
    ctx.arcTo(x+w+r, y, x+w+r, y+r, r)
    ctx.lineTo(x+w+r,y+h+r)
    ctx.arcTo(x+w+r,y+h+r+r,x+w,y+h+r+r,r)
    ctx.lineTo(x,y+h+r+r)
    ctx.arcTo(x-r,y+h+r+r,x-r,y+h+r,r)
    ctx.lineTo(x-r,y+r)
    ctx.arcTo(x-r,y,x,y,r)
    if(a){
     ctx.fill()
    }else{
     ctx.stroke()
    }
    // for(var i=0;i<(x+w)/5+(y+r+h)/5;i++){

    // }
    ctx.restore()
}
let bar1 = {
	x:20,
    y:20,
    h:50,
    life:100,
    ml:100
}
let bar2 = {
	x:60,
    y:20,
    h:50,
    life:100,
    ml:100
}
bar=(x,y,h,live,ml)=>{
	let cy = h/ml*live
	let ty=y
    rect1(ctx,x,y+=(h-cy),5,cy,"#ccc",5,1)
    rect1(ctx,x,ty,5,h,"#000")
 	for(var i=0;i<=live;i+=20){
    	rect1(ctx,x,ty+(h-h/ml*i),8,1,"#aa1",1,1)
    }
    ctx.font="20px Impact"
    ctx.fillText("❤️",x-10,ty+h+10*2)
}
let GameObject=[]
let a =[[,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6],[6,5,6,6,5,6,5,6,5,6,5,6,5,6,6,5,6,5,6,5,6,6,5,6,5,6,5,6],[6,6,5,6,6,6,5,5,5,7,6,7,7,5,6,5,5,5,5,5,6,6,5,5,7,5,6,6],[6,5,5,7,7,6,5,5,7,7,6,6,6,6,6,5,5,6,6,6,6,6,6,7,5,5,5,6],[6,6,6,7,5,6,5,7,7,6,6,6,6,6,6,6,5,5,5,5,6,5,6,6,5,5,6,6],[6,6,6,5,5,6,6,6,5,7,5,5,5,6,5,5,6,6,6,6,5,5,5,5,6,5,6,6],[6,6,6,5,5,5,5,6,6,5,5,6,5,5,5,5,5,5,6,6,6,5,5,6,6,5,6,6],[6,6,6,6,6,6,6,5,6,6,5,5,5,5,5,5,5,6,5,5,6,6,5,5,5,7,6,6],[6,6,6,6,5,5,6,6,6,5,6,6,5,5,6,5,6,6,5,5,5,6,6,5,5,7,6,6],[6,6,7,6,6,5,5,5,5,6,6,6,5,5,5,6,6,5,5,5,5,6,5,5,7,6,5,6],[6,5,5,7,6,6,5,5,5,7,5,6,6,6,5,6,5,5,5,6,6,6,5,5,5,6,6,6],[6,6,5,5,5,6,6,6,5,7,5,5,5,5,5,7,5,7,7,5,5,6,5,5,6,5,6,6],[6,5,5,5,5,5,6,6,7,5,5,5,5,5,7,5,5,6,6,5,5,5,6,6,5,6,6,6],[6,6,5,5,5,5,6,5,6,5,5,5,5,5,7,5,5,5,6,6,6,6,6,6,5,5,5,6],[6,5,7,5,5,5,6,5,6,6,5,6,5,6,7,5,6,6,6,6,6,6,5,6,5,5,6,6],[6,6,7,5,5,6,6,5,5,6,6,5,5,6,7,5,5,6,6,6,6,6,5,6,5,5,5,6],[6,5,7,5,6,5,5,5,5,5,6,5,5,7,6,5,6,5,6,6,6,7,6,6,5,5,6,6],[6,6,5,5,5,5,5,6,6,5,5,5,5,5,6,6,5,6,5,5,5,6,6,5,5,5,5,6],[6,5,5,5,5,5,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,5,6,6],[6,6,5,5,5,6,5,7,6,6,7,7,5,5,5,6,5,6,5,5,6,5,5,5,5,7,6,6],[6,5,5,5,6,6,5,6,6,7,7,5,7,5,5,6,5,6,5,7,6,5,5,5,7,6,6,6],[6,6,6,6,6,5,6,6,6,5,5,5,5,5,5,6,5,5,6,5,6,5,5,5,7,6,6,6],[6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,6,6,6,6,6,6,7,5,5,6,6,6,6],[6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,6,6,5,6,6,6,6,6,7,5,6,6],[6,6,5,6,6,6,6,6,6,6,6,5,5,5,6,6,6,5,5,5,5,6,6,6,6,5,6,6],[6,6,6,6,6,6,6,5,5,7,6,6,5,5,6,5,5,5,5,5,5,6,6,5,5,6,5,6],[6,6,6,6,6,6,6,6,6,6,6,6,5,6,6,5,6,6,5,6,6,6,6,6,6,6,6,6],[,6,6,6,6,6,6,6,6,6,5,6,6,6,6,6,5,6,6,6,6,6,6,6,6,6,6]]
//[[,,,,,,,,,,,,6],[,,,,,,,,,,,6,2,6],[,,,,,,,,,,6,7,2,2,6],[,,,,,,,,,,6,7,7,1,6,,,,,6,6],[,,,6,6,6,,,,,6,7,7,1,6,,,,6,2,2,6],[,,,6,2,2,6,,,,6,7,7,1,6,,,6,7,1,2,6],[,,,6,7,2,2,6,,,6,7,7,1,6,,6,7,7,1,6],[,,,,6,7,7,1,6,,6,7,7,1,6,6,7,7,1,6],[,,,,,6,7,7,1,6,6,5,5,5,5,7,7,1,6],[,,,,,,6,7,1,7,5,5,5,5,5,5,1,6],[,,,,,,,6,2,5,5,5,6,6,5,5,5,2],[,,6,6,6,6,6,6,5,5,5,6,6,6,6,5,5,5,6,6,6,6,6,6],[,6,2,1,1,1,1,1,5,5,6,7,6,7,6,6,5,5,7,7,7,7,7,7,6],[6,2,2,7,7,7,7,7,5,5,6,6,7,6,6,6,5,5,7,7,7,7,7,2,2,6],[,6,7,7,7,7,7,7,5,5,5,7,6,7,6,5,5,5,1,1,1,1,1,2,6],[,,6,6,6,6,6,6,6,5,5,5,6,6,5,5,5,2,6,6,6,6,6,6],[,,,,,,,6,1,7,5,5,5,5,5,5,7,6],[,,,,,,6,1,7,7,6,5,5,5,5,7,7,7,6],[,,,,,6,1,1,7,6,6,1,7,7,6,6,1,1,7,6],[,,,,6,1,7,7,6,,6,1,7,7,6,,6,1,7,7,6],[,,,6,2,2,7,6,,,6,1,7,7,6,,,6,1,7,7,6],[,,,6,2,7,6,,,,6,1,7,7,6,,,,6,1,2,7,6],[,,,6,6,6,,,,,6,1,7,7,6,,,,,6,2,2,6],[,,,,,,,,,,6,2,2,7,6,,,,,,6,6,6],[,,,,,,,,,,,6,2,6],[,,,,,,,,,,,,6]]
//[[,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,3,4,4,4,4,4,4,4,4,4,4,4,3,3,4,4,4,4,4,4,3,4,4,4,3,3,3],[3,3,4,4,4,4,4,4,4,4,4,4,4,3,4,4,4,4,4,4,3,3,4,4,3,4,3,3],[3,3,4,4,4,4,4,4,3,4,4,4,3,3,4,4,4,4,4,3,4,4,3,3,3,4,3,3],[3,3,4,4,4,3,4,4,4,4,4,3,3,4,4,4,4,3,3,4,4,3,3,4,4,4,3,3],[3,3,4,4,4,4,4,4,4,4,3,3,4,4,4,4,3,3,4,4,3,4,4,4,4,4,3,3],[3,3,4,4,4,4,4,3,4,3,3,4,4,4,4,3,3,4,4,3,4,4,4,4,4,4,3,3],[3,3,4,4,4,4,4,3,3,4,4,4,4,4,3,3,4,4,3,4,4,4,4,3,4,4,3,3],[3,3,4,4,4,4,4,3,4,4,4,4,4,3,4,4,4,4,4,4,4,4,4,4,4,4,3,3],[3,3,3,3,3,3,3,3,4,4,4,4,3,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3],[3,3,3,4,4,4,4,4,4,4,3,3,4,4,4,4,4,4,4,4,4,3,4,4,4,4,3,3],[3,3,4,4,4,4,4,4,4,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3],[3,3,4,4,4,4,4,4,3,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,4,4,3,3],[3,3,4,4,4,4,3,3,4,4,4,3,3,4,4,4,4,4,4,4,4,3,4,4,4,3,3,3],[3,3,4,4,4,3,3,4,4,4,3,3,4,4,4,4,4,4,4,3,3,4,4,4,4,3,3,3],[3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,3,3,4,4,4,4,3,3,3,3],[3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,4,4,4,4,3,4,4,3,3],[3,3,4,4,4,4,4,4,3,3,4,3,4,4,4,4,4,3,3,4,4,3,3,3,4,4,3,3],[3,3,4,4,4,4,4,3,3,4,3,4,4,4,4,4,3,3,4,4,4,3,4,4,4,4,3,3],[3,3,4,4,4,4,4,3,4,3,3,4,4,4,3,3,3,4,4,4,4,3,4,4,4,4,3,3],[3,3,4,4,4,4,3,3,4,4,4,4,4,3,4,4,4,4,4,4,3,3,4,4,4,4,3,3],[3,3,4,4,4,3,4,4,4,4,4,4,3,3,4,4,4,4,3,3,3,4,4,4,4,4,3,3],[3,3,4,4,3,3,4,4,4,4,4,3,3,4,4,4,4,3,3,3,4,4,4,4,4,4,3,3],[3,3,4,3,4,4,4,4,4,3,3,3,4,4,4,4,3,4,4,4,4,4,4,4,4,4,3,3],[3,3,3,4,4,4,4,4,3,3,4,4,4,4,4,3,3,4,4,4,4,4,4,4,4,4,3,3],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]]
createWall=a=>{
let ColorPlatte= [
  "f77097",
  "c7b09e",
  "f4f4fb",
  "B08968",
  "8e3d10",
  "234841",
  "041915",
  "53788c",
  "2ce8f5",
  "1B4965"
]
var sx = 9
var b = document.createElement('canvas')
var c1 = b.getContext('2d',{
    alpha: false,
    desynchronized: true
})

var w=28*sx
var h=28*sx
b.width = w,b.height = h
  var LL=RR=0,stroke=0
  var LW = LL?w:0,RH=RR?h:0
  var L= LW?minus:1,R=RH?minus:1
  var haw = w/2,hah = h/2
  for(var i=0,h1=0;i<a.length;i++,h1+=sx){
    for(var j = 0,w1=0;j<a[i].length;j++,w1+=sx){
        var color =a[i][j]
        if (color!=null){
          c1.fillStyle = "#"+ColorPlatte[color]
          c1.fillRect(w1,h1,sx,sx)
          stroke?c1.strokeRect(w1,h1,sx,sx):0
        }
    }
  }
  var imagea = new Image();
  imagea.src = b.toDataURL();
  return imagea;
}
let wall = createWall(a)
update=ms=>{
	GameObject.forEach(e=>{
        
    })
}
let lastUpdate = performance.now();
var sy = 0
MainLoop=_=>{
	ctx.clearRect(0,0,200,200)
    ctx.save()
    ctx.scale(2,2)
	const now = performance.now();
    const deltaMs = now - lastUpdate;
    const delta = deltaMs / 1000;
    lastUpdate = now;
    sy+=1
    for(var i=0,x=y=80;i<100;i++){
    	if(x>=80+(6*32)){
        	y+=32;
            x=80
        }
        //ctx.transform(1,0,1,1,0,0);
    	ctx.drawImage(wall,x,y-sy,32,32)
        x+=32
    }
    
    ctx.restore()
    update(deltaMs)
	requestAnimationFrame(MainLoop)
}

MainLoop()
</script>

</body>
</html>